<div class="container" *ngIf="model.id">
  <div class="row mt-5">
    <div class="col-12">
      <h2>Redaguoti skelbimą</h2>
    </div>
    <form #toolForm="ngForm" (ngSubmit)="submit(toolForm)">
      <div class="row mt-5 info-container">
        <div class="col-12">
          <div class="row my-3 text-center px-5">
            <div class="col-4">Įrankio pavadinimas</div>
            <input class="col-8" type="text" required [(ngModel)]="model.name"
                   [class.mat-step-icon-state-error]="!toolForm.form.valid" name="name"/>
          </div>
          <div class="row mb-3 text-center px-5">
            <div class="col-4">Įrankio trumpas aprašymas</div>
            <input class="col-8" type="text" [(ngModel)]="model.description" name="description"/>
          </div>
        </div>
      </div>
      <div class="row mt-2 info-container">
        <div class="col-4 my-3 text-center px-5">
          <div>
            <div class="my-3">Nuotraukos</div>
          </div>
          <div>
            <label class="underline w-auto d-block image-upload-container mb-3 btn btn-bwm text-center">
              <span>Įkelti nuotraukas</span>
              <input #imageInput
                     type="file"
                     accept="image/*"
                     multiple
                     (change)="processFile(imageInput)"
                     class="d-none">
            </label>
          </div>
        </div>
        <div class="col-8 row">
          <div class="col-4 img_wrap" *ngFor="let file of model.imageContent; let i = index">
            <span class="close float-end" role="button" (click)="removeFile(i)">&times;</span>
            <img class="w-100 p-2" src="{{file}}" alt="">
          </div>
        </div>
      </div>
      <div class="row mt-2 info-container text-center px-5">
        <div class="col-12 row">
          <div class="col-4 my-3">
            Kategorija
          </div>
          <div class="col-8 my-3">
            <mat-select name="type" [(ngModel)]="model.toolType">
              <mat-option *ngFor="let type of ToolTypeConstants.types" [value]="type">{{type}}</mat-option>
            </mat-select>
          </div>
        </div>
        <div class="col-12 row">
          <div class="col-4 my-3">
            Nuomos kaina valandai
          </div>
          <div class="col-8 my-3">
            <input type="number" class="w-100" [(ngModel)]="model.hourlyPrice" name="hourlyPrice" required>
          </div>
        </div>
        <div class="col-12 row">
          <div class="col-4 my-3">
            Nuomos kaina dienai
          </div>
          <div class="col-8 my-3">
            <input type="number" class="w-100" [(ngModel)]="model.dailyPrice" name="dailyPrice" required>
          </div>
        </div>
      </div>
      <div class="mt-3 row">
        <button class="offset-8 col-2" type="button">Įšsaugoti ruošinį</button>
        <div class="col-2 text-center"
             matTooltip="Negalima skelbti, nes neužpildyti visi privalomi laukai"
             [matTooltipDisabled]="toolForm.form.valid">
          <button class="w-100 btn btn-success text-center"
                  type="submit"
                  [disabled]="!toolForm.form.valid">
            <mat-icon class="w-100">Skelbti</mat-icon>
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
